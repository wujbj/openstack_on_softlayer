[DEFAULT]
rootwrap_config = /etc/cinder/rootwrap.conf
api_paste_confg = /etc/cinder/api-paste.ini
iscsi_helper = tgtadm
volume_name_template = volume-%s
verbose = <%= @verbose %>
debug = <%= @debug %>
auth_strategy = keystone

logdir = /var/log/cinder
state_path = /var/lib/cinder
lock_path = /var/lib/cinder/tmp
volumes_dir = /var/lib/cinder/volumes

sql_connection =  <%= @db_connection %>

<% if node['openstack']['mq']['service_type'] == "rabbit" %>
rabbit_host = <%= @rabbit_ipaddress %>
rabbit_port = <%= @rabbit_port %>
rabbit_password=guest
notification_driver = <%= @notification_driver %>
<% end %>

<% if node['openstack']['mq']['service_type'] == "qpid" %>
rpc_backend = cinder.openstack.common.rpc.impl_qpid
qpid_hostname = <%= @qpid_ipaddress %>
qpid_port = <%= @qpid_port %>
qpid_password=guest
notification_driver = <%= @notification_driver %>
<% end %>


osapi_volume_listen = <%= @cinder_api_listen_ip %>
osapi_volume_listen_port = <%= @cinder_api_listen_port %>
iscsi_ip_address = <%= @iscsi_ip_address %>
storage_availability_zone = <%= @storage_availability_zone %>
max_gigabytes = <%= @max_gigabytes %>

#### STORAGE PROVIDER INFORMATION ####
<%= render "partials/storage-options.partial.erb" %>

[keystone_authtoken]
signing_dirname = /tmp/keystone-signing-cinder
