<!--
        VIM :set ts=2 sw=2 sts=2 et
        Please don't edit this file, just make a copy of yours, and edit your copy.
        And, don't check in your copy to git repo, thanks.
-->
<clusters>
<cluster name="havana">
    <environment path="/home/yx/openstackchef/openstack-installation" 
        env_name="havana" username="root" ssh_key="/root/.ssh/id_rsa">
        <openstack>
          <devmode>true</devmode>
          <enable_iptables>false</enable_iptables>
        </openstack>

        <yum-packages>
          <rhel_repo>http://172.16.0.13:8080/redhat/rhel/$releasever/$basearch</rhel_repo>
          <epel_repo>http://172.16.0.13:8080/redhat/epel/$releasever/$basearch</epel_repo>
          <openstack_repo>http://172.16.0.13:8080/openstack/$releasever</openstack_repo>
          <!--<middleware_repo>http://172.16.0.13:8080/addition/$releasever</middleware_repo>-->
        </yum-packages>

        <ops-messaging>
          <mqtype>qpid</mqtype>
	        <mqhost>172.16.1.21</mqhost>
        </ops-messaging>

        <ops-database>
          <dbtype>mysql</dbtype>
          <dbhost>172.16.1.21</dbhost>
          <dbport>3306</dbport>
          <db_bind_if>eth0</db_bind_if>
        </ops-database>

        <identity>
          <identity_bind_if>eth0</identity_bind_if>
          <identity_host>172.16.1.21</identity_host>
        </identity>

        <image>
          <image_bind_if>eth0</image_bind_if>
          <image_host>172.16.1.21</image_host>
          <image_upload>true</image_upload>
          <image_precise_url>http://172.16.0.13:8080/images/precise-server-cloudimg-amd64-disk1.img</image_precise_url>
          <image_cirros_url>http://172.16.0.13:8080/images/cirros-0.3.0-x86_64-uec.tar.gz</image_cirros_url>
        </image>

        <compute>
          <compute_bind_if>eth0</compute_bind_if>
          <compute_api_host>172.16.1.21</compute_api_host>
          <ec2_api_host>172.16.1.21</ec2_api_host>
          <vnc_bind_if>eth0</vnc_bind_if>
          <libvirt_bind_if>eth0</libvirt_bind_if>
        </compute>

	      <vnc>
          <xvpvnc_host>172.16.1.21</xvpvnc_host>
          <novnc_host>172.16.1.21</novnc_host>
        </vnc>

        <volume>
          <volume_bind_if>eth0</volume_bind_if>
          <volume_host>172.16.1.21</volume_host>
        </volume>

        <network-api>
          <network_api_bind_if>eth0</network_api_bind_if>
          <network_api_host>172.16.1.21</network_api_host>
        </network-api>

        <network>
          <networktype>nova-network</networktype>
          <dns1>172.16.0.1</dns1>
          <bridge>br-vmnet</bridge>
          <bridgedev>eth0</bridgedev>
          <bridge_mapping>physnet1:br-eth1</bridge_mapping>
          <vmnet>192.168.1.0/24</vmnet>
          <vmnetnum>1</vmnetnum>
          <vmnetsize>256</vmnetsize>
          <firewall_driver>nova.virt.firewall.NoopFirewallDriver</firewall_driver>
          <network_manager>nova.network.manager.FlatDHCPManager</network_manager>
          <vlan vlan_end="550" vlan_start="520" vlan_interface="vlan1" />

          <quantum>
            <ovs_node_if>eth0</ovs_node_if>
            <ovs_phy_if>eth1</ovs_phy_if>
            <tenant_network_type>gre</tenant_network_type>
            <enable_tunneling>true</enable_tunneling>
            <tunnel_id_ranges>1:1000</tunnel_id_ranges>
            <network_vlan_ranges>520:550</network_vlan_ranges>
            <floating_if>eth5</floating_if>
          </quantum>
          <nova-network>
            <!-- nova network configuration -->
          </nova-network>
        </network>

        <gpfs>
            <gpfs_cluster_name>gpfs_01</gpfs_cluster_name>
            <gpfs_repo_url>http://172.16.0.1:8080/gpfs-3.5.0-7/</gpfs_repo_url>
            <gpfs_upgrade_rpms_url>http://172.16.0.1:8080/gpfs-3.5.0-10/</gpfs_upgrade_rpms_url>
        </gpfs>
    </environment>
    <nodes>
        <node>
            <hostname>devr1n21</hostname>
            <role>yum,os-ops-database,os-identity,os-dashboard,os-ops-messaging,os-image,os-compute-api,os-compute-vncproxy,os-compute-scheduler,os-compute-conductor,os-block-storage-api,os-block-storage-scheduler,os-block-storage-volume,os-compute-client,nova-network</role>
        </node>
    </nodes>
</cluster>
</clusters>
